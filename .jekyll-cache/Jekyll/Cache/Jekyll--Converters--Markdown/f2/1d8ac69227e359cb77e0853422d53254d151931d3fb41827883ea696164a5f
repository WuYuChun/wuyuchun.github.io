I"²<p>listi</p>

<p>[10:18 PM]</p>

<h1 id="ç›®çš„">ç›®çš„</h1>
<p>åœ¨å·¥ä½œä¸­ï¼Œå¯¹äºç½‘ç»œç¼–ç¨‹ç†è§£è¿ç”¨è¿˜æ˜¯ä¸å¤Ÿå¥½ï¼Œå› æ­¤å­¦ä¹ è¿™è¾¹ç»å…¸çš„ä¹¦ç±ï¼ŒåŠ æ·±è‡ªå·±å¯¹ç½‘ç»œç¼–ç¨‹çš„ç†è§£ã€‚ä¸ç®¡ç°åœ¨è¿ç”¨çš„çš„æ˜¯ACEæˆ–è€…ZQTæ¡†æ¶ï¼Œæœ€åŸºæœ¬çš„è¿˜æ˜¯å¥—æ¥å­—ã€‚</p>

<h1 id="èƒŒæ™¯">èƒŒæ™¯</h1>
<p>ä¸¤ä¸ªç¨‹åºè¿›è¡Œé€šä¿¡ï¼Œä¸ä¸¤ä¸ªäººè¿›è¡Œé€šè¯æƒ³é€šçš„ï¼Œè‹¥æ˜¯ä¸¤ä¸ªäººç”¨ä¸åŒè¨€è¯­è¿›è¡Œè°ˆè¯ï¼Œé‚£ä¹ˆå°±æ˜¯é¸¡åŒé¸­è®²ï¼Œå®Œæˆä¸çŸ¥å…¶æ‰€äº‘ï¼Œè€Œä¸¤ä¸ªç¨‹åºé€šä¿¡ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå¿…é¡»è§„å®šå¥½äº¤æµçš„â€œåè®®â€ï¼Œå…¶å®â€œåè®®â€å°±æ˜¯ä¸€å¥—å‡†åˆ™ï¼Œä¾‹å¦‚ä¸¤ä¸ªäººéƒ½ç”¨æ™®é€šè¯è¿›è¡Œäº¤æµï¼Œæ™®é€šè¯å°±æ˜¯åè®®ã€‚</p>

<h1 id="tcpipåè®®">TCP/IPåè®®</h1>
<p>ç”±äºæœ¬ä¹¦ä¸»è¦è®²è§£TCP/IPåè®®ï¼Œå› æ­¤æ³¨é‡ç‚¹ä¹Ÿæ˜¯TCP/IPï¼ŒTCP/IPæ˜¯ç”¨å¾ˆå¹¿çš„åè®®ã€‚å…¶å®å¾ˆå¤šçš„ç½‘ç»œç¨‹åºï¼Œéƒ½æ˜¯åŸºäºè¯¥åè®®ã€‚</p>

<p>ç”¨Windowsçš„APIç¼–å†™ä¸€ä¸ªç®€å•çš„TCP/IPç¨‹åºï¼ˆåœ¨ä¹¦ä¸­æ˜¯ä½¿ç”¨Linuxçš„APIå®Œæˆçš„ï¼Œç”±äºç”¨çš„æ˜¯Windowsï¼Œæ‡’å¾—æ¢åˆ°Linuxï¼Œæ‰€ä»¥å°±Â·Â·Â·Â·ï¼‰</p>

<p>æœåŠ¡ç«¯çš„ä»£ç </p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;iostream&gt;
#include &lt;Windows.h&gt;
#include &lt;time.h&gt;

#pragma    comment(lib,"ws2_32.lib") 
using namespace std;

#define  PORT 4000
#define  IP_ADDRESS "135.124.2.22"
int main(int argc, char* argv[])
{
WSADATA  Ws;
SOCKET ServerSocket, CientSocket;
struct sockaddr_in LocalAddr, ClientAddr;
int Ret = 0;
int AddrLen = 0;


//Init Windows Socket
if ( WSAStartup(MAKEWORD(2,2), &amp;Ws) != 0 )
{
	cout&lt;&lt;"Init Windows Socket Failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}

//Create Socket
ServerSocket = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);
if ( ServerSocket == INVALID_SOCKET )
{
	cout&lt;&lt;"Create Socket Failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}

LocalAddr.sin_family = AF_INET;
LocalAddr.sin_addr.s_addr = inet_addr(IP_ADDRESS);
LocalAddr.sin_port = htons(PORT);
memset(LocalAddr.sin_zero, 0x00, 8);

//Bind Socket
Ret = bind(ServerSocket, (struct sockaddr*)&amp;LocalAddr, sizeof(LocalAddr));
if ( Ret != 0 )
{
	cout&lt;&lt;"Bind Socket Failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}

Ret = listen(ServerSocket, 10);
if ( Ret != 0 )
{
	cout&lt;&lt;"listen Socket Failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}

cout&lt;&lt;"æœåŠ¡ç«¯å·²ç»å¯åŠ¨"&lt;&lt;endl;

AddrLen = sizeof(ClientAddr);
CientSocket = accept(ServerSocket, (struct sockaddr*)&amp;ClientAddr, &amp;AddrLen);
if ( CientSocket == INVALID_SOCKET )
{
	cout&lt;&lt;"Accept Failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
}

cout&lt;&lt;"å®¢æˆ·ç«¯è¿æ¥::"&lt;&lt;inet_ntoa(ClientAddr.sin_addr)&lt;&lt;":"&lt;&lt;ClientAddr.sin_port&lt;&lt;endl;


//è·å–ç³»ç»Ÿæ—¶é—´
time_t t = time(0);
char szTime[64] = {0};
strftime(szTime,sizeof(szTime),"%Y/%m/%d %X %A æœ¬å¹´ç¬¬%jå¤© %z",localtime(&amp;t));

//æŠŠç³»ç»Ÿæ—¶é—´å‘é€ç»™å®¢æˆ·ç«¯
Ret = send(CientSocket, szTime, (int)strlen(szTime), 0);
if ( Ret == 0 )
{
	cout&lt;&lt;"Send Info Complete!"&lt;&lt;endl;
}
else
{
	cout&lt;&lt;"Send Info Err!"&lt;&lt;endl;
}
closesocket(ServerSocket);
closesocket(CientSocket);
WSACleanup();

return 0;
}
</code></pre></div></div>

<p>å®¢æˆ·ç«¯çš„ä»£ç </p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;iostream&gt;
#include &lt;Windows.h&gt;
#pragma    comment(lib,"ws2_32.lib")
using namespace std;

#define IP_ADDRESS "135.124.2.22"
#define PORT 4000

int main( int argc , char* argv[] )
{
WSADATA ws;

if ( WSAStartup(MAKEWORD(2,2),&amp;ws) != 0 )
{
	cout&lt;&lt;"Init Windows Socket Failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}

SOCKET CientSocket;
CientSocket = socket(AF_INET,SOCK_STREAM,IPPROTO_TCP);
if ( INVALID_SOCKET == CientSocket )
{
	cout&lt;&lt;"create socket failed::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}

struct sockaddr_in ServerAddr;
ServerAddr.sin_family = AF_INET;
ServerAddr.sin_addr.s_addr = inet_addr(IP_ADDRESS);
ServerAddr.sin_port = htons(PORT);
memset(ServerAddr.sin_zero, 0x00, 8);

int Ret = 0;
Ret = connect(CientSocket,(struct sockaddr*)&amp;ServerAddr,sizeof(ServerAddr));
if ( SOCKET_ERROR == Ret )
{
	cout&lt;&lt;"Connect Error::"&lt;&lt;GetLastError()&lt;&lt;endl;
	return -1;
}
else
{
	cout&lt;&lt;"è¿æ¥æˆåŠŸ!"&lt;&lt;endl;
}
char RecvBuffer[MAX_PATH];

memset(RecvBuffer, 0x00, sizeof(RecvBuffer));
recv(CientSocket, RecvBuffer, MAX_PATH, 0)	
cout&lt;&lt;"æ¥æ”¶åˆ°æ—¶é—´ä¿¡æ¯ä¸º:"&lt;&lt;SendBuffer&lt;&lt;endl;
closesocket(CientSocket);
WSACleanup();
return 0;
}
</code></pre></div></div>

<p>å½“ç„¶å‰é¢çš„ä»£ç æœ‰å¾ˆå¤šçš„æ¼æ´ï¼Œæ¯”å¦‚Recvå‡½æ•°ç­‰ç­‰ï¼Œä½†æ˜¯è¿™ä¸ªä¹Ÿä»…ä»…æ˜¯ä¸€ä¸ªå°å°ä¾‹å­ï¼Œï¼ˆä½†æ˜¯ä»£ç è¦ä¿æŠ¤ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼‰ã€‚</p>

<h1 id="æ³¨æ„">æ³¨æ„</h1>
<p>ä½¿ç”¨TCPæ—¶å¿…é¡»å°å¿ƒï¼Œå› ä¸ºTCPæ˜¯ä¸€ä¸ªæ²¡æœ‰è®°å½•è¾¹ç•Œçš„å­—èŠ‚æµåè®®ã€‚ï¼ˆæ²¡æœ‰è¾¹ç•Œå“¦ï¼‰ï¼Œå¦‚æœè¦å‘é€çš„ä¿¡æ¯é‡å¾ˆå¤§çš„è¯ï¼Œå¹¶ä¸ä¿è¯ä¸€æ¬¡æ€§æ¥æ”¶å®Œæ‰€æœ‰çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ï¼Œè¦å¾ªç¯çš„æ¥æ”¶ã€‚</p>
:ET