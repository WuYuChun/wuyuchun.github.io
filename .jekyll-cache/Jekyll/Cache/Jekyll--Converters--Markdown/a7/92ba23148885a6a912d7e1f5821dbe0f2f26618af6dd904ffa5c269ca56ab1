I"ö<p>[12:51 ]</p>

<h1 id="ç®€ä»‹">ç®€ä»‹</h1>

<p>ä¼ ç»Ÿå•çº¿ç¨‹çš„ä¾‹å­</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/*
 * ç®€ä»‹ï¼šç”¨äºè®¡ç®—ä¸€ä¸ªæ•°ç»„ä¸­å…ƒç´ çš„å’Œ
 * æ³¨æ„ï¼šè¿™æ˜¯æ™®é€šçš„å†™æ³•
 */

#include &lt;iostream&gt;
#include &lt;vector&gt;

int main(int argc, char *argv[]){

    const int N = 50000;

    //!ä»»åŠ¡1 åˆ›å»ºæ•°ç»„
    std::vector&lt;int&gt; a(N);

    //!ä»»åŠ¡2 å¡«å……æ•°ç»„
    for(int i = 0; i &lt; N; ++i){
        a[i] = i;
    }

    //!ä»»åŠ¡3ï¼šè®¡ç®—æ•°ç»„ä¸­é‡Œé¢çš„æ‰€æœ‰çš„å’Œ
    int sum_A(0);
    for(int i = 0; i &lt; N; ++i){
        sum_A += a[i];
    }

    //!ä»»åŠ¡4ï¼šè®¡ç®—0åˆ°N-1ä¹‹å’Œ
    int sum_check(0);
    for(int i = 0; i &lt; N; ++i){
        sum_check += i;
    }

    //!æ£€æŸ¥ä»»åŠ¡çš„æ­£ç¡®æ€§
    if(sum_A == sum_check){
        std::cout &lt;&lt; "all right!" &lt;&lt; std::endl;
    }
    else{
        std::cout &lt;&lt; "it's wrong!" &lt;&lt;std::endl;
    }

    return 0;
} 
</code></pre></div></div>

<p>è¿™ä¸ªæ˜¯ç”¨cudaç¼–å†™çš„ä¾‹å­â€” <strong>è¿™é‡Œä½¿ç”¨çš„æ˜¯C++ThrustAPI</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/*
 * ç®€ä»‹ï¼šè¿™ä¸ªæ˜¯ç”¨cudaçš„Thrustæ•°æ®å¹¶è¡ŒAPIçš„ä¾‹å­
 */


#include &lt;iostream&gt;
using namespace std;

#include &lt;thrust/reduce.h&gt;
#include &lt;thrust/sequence.h&gt;
#include &lt;thrust/host_vector.h&gt;
#include &lt;thrust/device_vector.h&gt;

int main(int argc, char *argv[]) {

    const int N = 50000;

    //!åˆ›å»ºæ•°ç»„
    thrust::device_vector&lt;int&gt; a(N);

    //ï¼å¡«å……æ•°ç»„ å¹¶è¡Œ
    thrust::sequence(a.begin(),a.end(),0);

    //ï¼å¹¶è¡Œè®¡ç®—æ•°ç»„å…ƒç´ ä¹‹å’Œ
    int sumA = thrust::reduce(a.begin(),a.end(),0);

    //ï¼æµ‹è¯•æ˜¯å¦å¼‚æ­¥çš„
    std::cout &lt;&lt; "å·²ç»è°ƒç”¨ï½ï½ï½" &lt;&lt; std::endl;


    int sum_check(0);

    //!è¿™é‡Œä¸»è¦æµ‹è¯• å¼‚æ­¥è°ƒç”¨
    #if 0
    for(int i = 0; i &lt; N; ++i){
        sum_check += i;
    }
    #endif
    std::cout &lt;&lt; "sum_A: " &lt;&lt;sum_A &lt;&lt;std::endl;

    if(sum_check == sumA) {
        std::cout &lt;&lt;"test good!" &lt;&lt; std::endl;
    }
    else {
        std::cout &lt;&lt;"test err!" &lt;&lt;std::endl;
    }

    return 0;
} 
</code></pre></div></div>

<h1 id="cuda-api">cuda API</h1>
<p>cudaæä¾›äº†å¤šç§APIï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆä»é«˜å±‚åˆ°åº•å±‚ï¼‰ï¼š</p>
<ol>
  <li>æ•°æ®å¹¶è¡Œ C++ Thrust API</li>
  <li>å¯ç”¨äºCæˆ–è€…C++çš„Runtime API</li>
  <li>å¯ç”¨äºCæˆ–è€…C++çš„Driver API</li>
</ol>

<h2 id="å…³é”®ç‚¹">å…³é”®ç‚¹</h2>
<p>1.ç”¨äºCUDAçš„GPUæ˜¯å®‰è£…äºä¸»æœºç³»ç»Ÿä¸­çš„ç‹¬ç«‹è®¾å¤‡ã€‚</p>

<p>2.GPUè¿è¡Œåœ¨ä¸€ä¸ªå’Œä¸»å¤„ç†å™¨ç›¸éš”ç¦»çš„å­˜å‚¨ç©ºé—´ä¸­ã€‚</p>

<p>3.CUDA kernelæ˜¯å¯åœ¨ä¸»æœºä»£ç ä¸­è°ƒç”¨è€Œåœ¨CUDAè®¾å¤‡ä¸Šè¿è¡Œçš„å­ç¨‹åº <strong>é€šè¿‡__global__æ¥å®šä¹‰</strong>ã€‚</p>

<p>4.kernelçš„è°ƒç”¨æ˜¯å¼‚æ­¥çš„ï¼Œå³ä¸»æœºä»…ä»…æŠŠè¦æ‰§è¡Œçš„kernelé¡ºåºæäº¤ç»™GPUï¼Œå¹¶ä¸ç­‰å¾…å…¶æ‰§è¡Œå®Œæˆï¼Œç„¶ååœ¨ç›´æ¥å¤„ç†åé¢å…¶ä»–çš„ä»»åŠ¡ã€‚</p>

<p>5.GPUä¸Šçš„åŸºæœ¬è¿è¡Œå•ä½æ˜¯çº¿ç¨‹</p>
:ET