## 简介
> 摩尔定律和丹纳德缩减定律，纳米时代的到来，漏电电流和次生效应，导致了丹纳德缩减定律的提前终结
> 暗硅效应？

### RISC\CISC和VLIW架构区别

|架构特征|CISC|RISC|LVIW|
|-------|----|----|----|
|指令长度|变长|固定，通常32bits| 固定 |
|指令格式|字段布局可变| 字段布局固定一致| 字段布局固定一致
|指令语义|指令从简单到复杂变化，每条指令可能有许多依赖操作| 每个指令的语义几乎总是一个简单操作| 多数指令是简单、独立的操作|
|寄存器|较少，部分为专用寄存器| 较多通用寄存器| 较多通用寄存器 |
|内存引用方式|与许多不同类型指令中的操作捆绑在一起|不与操作捆绑在一起，如load/store架构| 不与操作捆绑在一起，如load/store架构
|硬件设施|利用微码实现|采用单条流水线|采用多条流水线，不使用微码和复杂的指令调度逻辑|
|优点|  |  | 取指后分发到不同单元，增加计算密度  |
|缺点|  |  |编译器需要找到N个独立操作，找不到插入NOP。增加程序代码大小
|应用产品| | | ATI GPU （ATI Radeon HD5800）
|应用领域|  |  | 嵌入式市场，DSP

![指令示意图](/images/posts/2021-11-15-众核处理器原理设计优化00.jpg)

> 🚩 CPU GPU 以及等等所有芯片产品，他们采用的是什么的架构

> 🚩 佛林分类法？

### Optimizing OpenCV for the RISC-V Architecture

针对于 [opencv关于RISC-V的优化架构](https://opencv.org/optimizing-opencv-for-the-risc-v-architecture/)
里面包括了一个RISC-V的模拟器




## 众核处理器的架构

特征：

- 用于计算的运算单元和本地寄存器文件丰富且简单
- 指令发射逻辑相对传统微处理器更为简单
- 计算的执行和数据的访问是分离
- 计算资源并行化且规模大

![](/images/posts/2021-11-15-众核处理器01.jpg)





## 运算资源

细分为控制流特性和数据流特性

### 流处理器？

什么是流处理器？

![](/images/posts/2021-11-15-众核处理器08.jpg)

流程序的核心映射和调度

![](/images/posts/2021-11-15-众核处理器04.jpg)



## 存储

对存储单元的加载/存取操作的规则性，时间局部性，空间局部性



### 共享cache架构

![](/images/posts/2021-11-15-众核处理器02.jpg)

### 私有架构

![](/images/posts/2021-11-15-众核处理器03.jpg)



cache miss的类型：

- 义务缺失：冷启动缺失
- 容量缺失：内存中的数据块活跃部分超出cache容量大小
- 冲突缺失：由于许多数据块可能映射到相同的cache line,导致冲突
- 一致性缺失：为了维护多核一致性



## 通信

数据之间传输、消息发生等

混合策略的基本原理：将虚拟电路交换机制和电力交换机制、包交换机制混合，通过编译确定各通信路径并分配想要的交换连接来优化片上网络的通信延迟和功耗








## 能耗与温度

- 温度正比于功耗密度
- 温度是时间的非线性函数
- 温度与功耗优化策略的应用场合不同

$$
P_{total} = P_{dynamic} + P_{static} + P_{trans}
$$

P_trans:状态转换的功耗
