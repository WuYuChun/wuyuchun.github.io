# 设计模式沉思录



Gof的设计模式只解决了微观架构,你仍然必须把宏观架构设计好:分层\分布\功能隔离...而且把纳米架构设计好:封装/Liskov...

一项新事物要被接受会经历三个阶段:

- 当做垃圾,无人问津
- 不可行,无法推广
- 显而易见,理所当然

**模式并没有保证任何东西,它们甚至不能增加从中获取益处的可能性**

> 没有任何一种模式能够适用于所有领域,唯一能够适用于任何领域的是一个通用的概念,**无论什么领域,模式都是一种用来记录和传播专家经验的工具**



![](/images/posts/2020-11-19-设计模式沉思录01.png)



通过不修改已有代码的前提下改变一个系统的行为,可以使系统达到最佳的灵活性和可维护性.

好莱坞原则非常有意思,因为它是理解框架的关键之一,它让框架将体系结构和实现系统中不变的部分记录下来,而将可变的部分交给与应用程序相关的子类.有些人不太适应框架编程,**反向控制就是其中原因之一**.

平行对象层次使得对象的数量\类层次内部的链接数量以及类层次之间的连接数量都加倍.

事件驱动编程:

- 拉模型:整个过程都是事件的消费者发起的,因此事件的消费者(应用程序)积极从事件的生产者中(框架)那里拉消息.
- 推模式:事件的消费者被动的地等待.

**推模型通常会简化消费者但代价让生产者变得复杂,而拉模型刚好相反**

事件驱动的设计是很有常见的,其中一个主要的设计挑战在于,使系统可扩展的同时保持类型安全性.

一个常见的解决方案就是使用一个事件注册表来记录这些依赖关系.

问题:

他们需要对象之间建立联系,而注册/通知是完成这一个任务的一种基本机制(模式)?

> 模式有关的经验和智慧,源于两个模式之间存在的空白地带

>模式开发是对一段时间内应用的无数微小经验的积累



![](/images/posts/2020-11-19-模式开发沉思录02.png)























































